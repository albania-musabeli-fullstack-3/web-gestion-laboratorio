<h2 mat-dialog-title>{{ titulo }}</h2>

<mat-dialog-content class="mat-typography">

    <div class="container pt-2">
        <form [formGroup]="formResultado">

            <div class="row mb-3">
                <div class="col-12 col-md-6">
                    <mat-form-field class="w-100" appearance="outline">
                        <mat-label>Nombre Análisis</mat-label>
                        <input formControlName="nombreAnalisis" matInput type="text" required>
                    </mat-form-field>
                </div>

                <div class="col-12 col-md-6">
                    <mat-form-field class="w-100" appearance="outline">
                        <mat-select formControlName="idLaboratorio" placeholder="Laboratorio" required>
                            <mat-option>-- Seleccionar un laboratorio --</mat-option>
                            @for (lab of laboratorios(); track $index) {
                            <mat-option [value]="lab.id">
                                {{ lab.nombre }}
                            </mat-option>
                            }

                        </mat-select>
                    </mat-form-field>
                </div>
            </div>


            <div class="row mb-3">
                <div class="col-12 col-md-6">
                    <mat-form-field class="w-100" appearance="outline">
                        <mat-label>Fecha del análisis</mat-label>
                        <input matInput [matDatepicker]="picker" formControlName="fechaAnalisis"
                            placeholder="dd/mm/aaaa" required>
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>

                <div class="col-12 col-md-6">
                    <mat-form-field class="w-100" appearance="outline">
                        <mat-label>Resultado</mat-label>
                        <input formControlName="resultado" matInput type="text" required>
                    </mat-form-field>
                </div>
            </div>


            <div class="row mb-3">
                <div class="col-12">
                    <mat-form-field class="w-100" appearance="outline">
                        <mat-label>Observaciones</mat-label>
                        <input formControlName="observaciones" matInput type="text" required>
                    </mat-form-field>
                </div>
            </div>

        </form>
    </div>

</mat-dialog-content>


<mat-dialog-actions align="end">
    <button (click)="agregarEditarResultado()" [disabled]="formResultado.invalid"
        class="btn btn-primary btn-lg px-3 me-md-2">
        {{ nombreBoton }}
    </button>

    <button mat-dialog-close class="btn btn-secondary btn-lg px-3 me-md-2">
        Cerrar
    </button>
</mat-dialog-actions>